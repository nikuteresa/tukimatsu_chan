name: Monthly End Notification

on:
  schedule:
    # æ¯æ—¥18æ™‚ã«å®Ÿè¡Œï¼ˆJST = UTC+9ï¼‰
    - cron: '0 9 * * *'  # UTC 9:00 = JST 18:00
  # æ‰‹å‹•å®Ÿè¡Œç”¨
  workflow_dispatch:

jobs:
  check-month-end:
    name: Check for month end and notify
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Run month-end determination
        id: month_end_action
        uses: ./

      - name: Show result
        run: |
          echo "Is last business day: ${{ steps.month_end_action.outputs.is_last_business_day }}"
          echo "Executed at: ${{ steps.month_end_action.outputs.executed_at }}"

      - name: Log month-end check
        if: steps.month_end_action.outputs.is_last_business_day == 'true'
        run: |
          echo "ğŸ‰ Today is the last business day of the month! Execution time: $(date)"
